---
title: "Subset of Naga Trees that will be Affected by the Current Road Widening in Liboton, San Felipe, and Pacol"
author: "Shane B. Bimeda"
date: "September 28, 2020"
output: html_document
---  



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### This document is a brief report of the trees that will be affected by the current road widening project in Naga City. The data presented is part of the partial tree inventory/census along the main roads in Naga City.The data described in this paper came from the data generated by fieldwork activities conducted from **December 05, 2017** to **May 23, 2019** and included portions of the 17 barangays in Naga City.

### The past fieldwork activities for this Citizen Science project were participated by volunteers from **They Grey We Green, SULOG (Sumaro sa Salog), private individuals, environmental management students, citizen scientists, and headed by the Institute for Environmental Conservation and Research of the Ateneo de Naga University (ADNU-INECAR)**. 

### Tree census was facilitated using a Kobo Collect android application developed in part by the INECAR team. Using the application, the volunteers geotag the trees and input important information from each of the trees, like the species or local name and the barangay where it is located. In addition, the volunteers also took pictures of the trees to aid in the validation of species. After fieldwork, the volunteers sent their files online, to a cloud server that can be accessed through a web application, the KoboToolbox.

### For this report, data from the server was exported and downloaded for very basic data cleaning and processing using R and RStudio. Please note that the data presented only refers to the trees in Barangays Liboton, San Felipe, and Pacol that will be affected by the current road widening project in Naga City. Please understand that this is a beta version of a future more comprehensive visualization  of Trees in the City, as the author is still not done cleaning and cross checking the current 2082 tree entries. Furthermore, this document was also created using the said software. 

## **Data Summary**

```{r, echo = FALSE, warning = FALSE, error=FALSE, message=FALSE, results= 'hide', eval=TRUE}
library(dplyr)
library(data.table)
library(reshape2)
library(lubridate)
library(stringr)
library(leaflet)


pacol <- fread("pac.csv")
summary(pacol)
str(pacol)
View(pacol)

sanfelipe <- fread("sanflp.csv")
summary(sanfelipe)
str(sanfelipe)
View(sanfelipe)

liboton <- fread("lib.csv")
summary(liboton)
str(liboton)
View(liboton)

```
```{r, echo = FALSE, warning = FALSE, error=FALSE, message=FALSE, results= 'hide', eval=TRUE}

pac <- pacol[, .N, by = "characteristics"]; setorder(pac, -N)
View(pac)
sum(pac$N)


sanf <- sanfelipe[, .N, by = "characteristics"]; setorder(sanf, -N)
View(sanf)
sum(sanf$N)

libt <- liboton[, .N, by = "characteristics"]; setorder(libt, -N)
View(libt)
sum(libt$N)


```  

### Here is a sample of tree data that the Project has:  

```{r, echo = FALSE, warning = FALSE, error=FALSE, message=FALSE, results= 'show', eval=TRUE}

head(pacol)
```  


## Liboton

### Please note that these may no longer reflect the actual number of trees found in Liboton as of today, as some of the trees had already been removed since the census was conducted at least a year ago.  


```{r, echo = FALSE, warning = FALSE, error=FALSE, message=FALSE, results= 'show', eval=TRUE}

libt
```  

### Total affected roadside trees in Liboton:

```{r, echo = FALSE, warning = FALSE, error=FALSE, message=FALSE, results= 'show', eval=TRUE}
sum(libt$N)

```  

### Aside from the whole stretch of Liboton, the current tree-cutting permits include portion of the Pacol Road starting from the corner of the entrance of Cokeville in Barangay San Felipe, to the portion of the road that took a sharp curve towards Barangay Pacol, and up until the area around MNWD's pumping station in the same barangay.    


## San Felipe  

```{r, echo = FALSE, warning = FALSE, error=FALSE, message=FALSE, results= 'show', eval=TRUE}

sanf
```  


### Total affected roadside trees in San Felipe:  

```{r, echo = FALSE, warning = FALSE, error=FALSE, message=FALSE, results= 'show', eval=TRUE}

sum(sanf$N)

```  


## Pacol


```{r, echo = FALSE, warning = FALSE, error=FALSE, message=FALSE, results= 'show', eval=TRUE}


pac 
```  

### Total affected roadside trees in Pacol:  

```{r, echo = FALSE, warning = FALSE, error=FALSE, message=FALSE, results= 'show', eval=TRUE}
sum(pac$N)

```  


```{r, echo = FALSE, warning = FALSE, error=FALSE, message=FALSE, results= 'hide', eval=TRUE}

subset <- rbind(liboton,sanfelipe,pacol)

```
## Map of Plotted Trees in the Three Barangays:

```{r, echo = FALSE, warning = FALSE, error=FALSE, message=FALSE, results= 'show', eval=TRUE}

m <- leaflet(data = subset) %>%
  addTiles() %>%  # Add default OpenStreetMap map tiles
  addMarkers(~longitude, ~latitude, popup= ~as.character(characteristics))
m


```  


#### The author would like to thank all of the volunteers and citizen scientists who helped in the data gathering and the sponsors who have extended assistance to the researchers. The work in this project is still not done as we take on the task to continue to maintain and protect the Trees in Naga. The Writ of Continuing Mandamus ordered by the Court strengthens our call for sustainable development and resilient future, most importantly, in this time of Climate Emergency. 
### Volunteer as a  citizen scientist!  



#### This report was generated using the rudimentary coding skills that the author has. Help us make a better visualization. Send a pull request at [link](https://github.com/shanebimeda/treesinDcity)**  



### REFERENCES

#### **R Core Team (2017). R: A language and environment for statistical computing. R  Foundation for Statistical Computing, Vienna, Austria. URLhttps://www.R-project.org/**

#### **packages used: dplyr, data.table, lubridate, reshape2, stringr, rmarkdown, and leaflet**   

#### H. Wickham. ggplot2: Elegant Graphics for Data Analysis.      Springer-Verlag New York, 2016    

#### Hadley Wickham (2019). stringr: Simple, Consistent Wrappers for Common String Operations. R package version 1.4.0. https://CRAN.R-project.org/package=stringr  
   
#### Matt Dowle and Arun Srinivasan (2019). data.table: Extension of data.frame`. R package version 1.12.8. https://CRAN.R-project.org/package=data.table

#### JJ Allaire and Yihui Xie and Jonathan McPherson and JavierLuraschi and Kevin Ushey and Aron Atkins and Hadley Wickham and Joe Cheng and Winston Chang and Richard Iannone (2020).rmarkdown: Dynamic Documents for R. R package version 2.1. URLhttps://rmarkdown.rstudio.com.

#### Hadley Wickham, Romain Fran?ois, Lionel Henry and Kirill M?ller (2020). dplyr: A Grammar of Data Manipulation. R package version 1.0.0.https://CRAN.R-project.org/package=dplyr    

#### Anne Cori (2020). EpiEstim: Estimate Time Varying Reproduction Numbers from Epidemic Curves. R package version 2.2-3. https://CRAN.R-project.org/package=EpiEstim  

#### VP Nagraj, Thibaut Jombart, Nistara Randhawa, Bertrand Sudre, Finlay Campbell and Thomas Crellen (2017). epicontacts: Handling, Visualisation and Analysis of Epidemiological Contacts. R package version 1.1.0. https://CRAN.R-project.org/package=epicontacts    
  
#### Garrett Grolemund, Hadley Wickham (2011). Dates and Times Made Easy with lubridate. Journal of Statistical Software, 40(3), 1-25. URL http://www.jstatsoft.org/v40/i03/    

#### Hadley Wickham (2007). Reshaping Data with the reshape Package. Journal of Statistical Software, 21(12), 1-20. URL http://www.jstatsoft.org/v21/i12/    

#### Joe Cheng, Bhaskar Karambelkar and Yihui Xie (2019). leaflet:Create Interactive Web Maps with the JavaScript 'Leaflet'Library. R package version 2.0.3. https://CRAN.R-project.org/package=leaflet  

#### Yihui Xie (2020). knitr: A General-Purpose Package for Dynamic Report Generation in R. R package version 1.29.    

#### Yihui Xie (2015) Dynamic Documents with R and knitr. 2nd edition. Chapman and Hall/CRC. ISBN 978-1498716963  

#### Yihui Xie (2014) knitr: A Comprehensive Tool for Reproducible Research in R. In Victoria Stodden, Friedrich Leisch and Roger D. Peng, editors, Implementing Reproducible Computational Research. Chapman and Hall/CRC. ISBN 978-1466561595  




